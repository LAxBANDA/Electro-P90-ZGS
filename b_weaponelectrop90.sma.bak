/* Plugin generated by AMXX-Studio */

#include <amxmodx>
#include <amxmisc>

#define PLUGIN "New Plug-In"
#define VERSION "1.0"
#define AUTHOR "LA BANDA"


public plugin_init() {
	register_plugin(PLUGIN, VERSION, AUTHOR)
	register_event("CurWeapon", "gold_bullets", "be", "1=1", "3>0")
	// Add your code here...
}


public gold_bullets(id)
{	
	new clip,ammo
	new wpnid = get_user_weapon(id,clip,ammo)
	new pteam[16]
	
	get_user_team(id, pteam, 15)
	
	new vec1[3], vec2[3]
	get_user_origin(id, vec1, 1) // origin; your camera point.
	get_user_origin(id, vec2, 4) // termina; where your bullet goes (4 is cs-only)
	
	new iEndOrigin[3]
	get_user_origin(id, iEndOrigin, 4)
	if ((bullets[id] > clip) && (wpnid == CSW_AWP) && g_fire_barett[id]) 
	{
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_ELIGHT)
		write_short(id | 0x1000) 
		write_coord(vec1[0])
		write_coord(vec1[1])
		write_coord(vec1[2])
		write_coord(15)
		write_byte(255)
		write_byte(128)
		write_byte(0)
		write_byte(1)
		write_coord(0)
		message_end()
		
		
		message_begin(MSG_ALL, SVC_TEMPENTITY, iEndOrigin)
		write_byte(TE_DLIGHT) // TE id
		write_coord(vec1[0])
		write_coord(vec1[1])
		write_coord(vec1[2])
		write_byte(15) // radius
		write_byte(255) // r
		write_byte(128) // g
		write_byte(0) // b
		write_byte(1) // life
		write_byte(0) // decay rate
		message_end()
		
	}
	else if ((bullets[id] > clip) && (wpnid == CSW_AWP) && g_weapon_interceptor[id]) 
	{
		
		
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_ELIGHT)
		write_short(id | 0x1000) 
		write_coord(vec1[0])
		write_coord(vec1[1])
		write_coord(vec1[2])
		write_coord(30)
		write_byte(0)
		write_byte(0)
		write_byte(255)
		write_byte(1)
		write_coord(0)
		message_end()
		
		
		message_begin(MSG_ALL, SVC_TEMPENTITY, iEndOrigin)
		write_byte(TE_DLIGHT) // TE id
		write_coord(vec1[0])
		write_coord(vec1[1])
		write_coord(vec1[2])
		write_byte(30) // radius
		write_byte(0) // r
		write_byte(0) // g
		write_byte(255) // b
		write_byte(1) // life
		write_byte(0) // decay rate
		message_end()
		
	}
	else if ((bullets[id] > clip) && (wpnid == CSW_USP) && g_super_usp[id]) 
	{
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_SPARKS)                      
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		message_end()
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_SPARKS)                      
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		message_end()
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_SPARKS)                      
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		message_end()
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_SPARKS)                      
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		message_end()
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_SPARKS)                      
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		message_end()
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_SPARKS)                      
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		message_end()
		
		message_begin(MSG_ALL, SVC_TEMPENTITY, iEndOrigin)
		write_byte(TE_DLIGHT) // TE id
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_byte(10) // radius
		write_byte(255)
		write_byte(0)
		write_byte(0)
		write_byte(1) // life
		write_byte(30) // decay rate
		message_end()
		
		message_begin(MSG_ALL, SVC_TEMPENTITY, iEndOrigin)
		write_byte(TE_DLIGHT) // TE id
		write_coord(vec1[0])
		write_coord(vec1[1])
		write_coord(vec1[2])
		write_byte(15) // radius
		write_byte(255)
		write_byte(0)
		write_byte(0)
		write_byte(1) // life
		write_byte(0) // decay rate
		message_end()
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_BEAMENTPOINT)
		write_short(id | 0x1000) 
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_short( m_beamSpr ) 
		write_byte(1) // framestart
		write_byte(5) // framerate
		write_byte(1) // life
		write_byte(12) // width
		write_byte(0) // noise
		write_byte( 255 )     // r, g, b
		write_byte( 0 )       // r, g, b
		write_byte( 0 )       // r, g, b
		write_byte( 255 ) // brightness
		write_byte( 128 ) // speed
		message_end()
		
		
	}
	else if ((bullets[id] > clip) && (wpnid == CSW_AK47) && g_weapon_teslagun[id]) 
	{
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_ELIGHT)
		write_short(id | 0x1000)
		write_coord(vec1[0])
		write_coord(vec1[1])
		write_coord(vec1[2])
		write_coord(15)
		write_byte(128)
		write_byte(128)
		write_byte(128)
		write_byte(1)
		write_coord(0)
		message_end()
		
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_BEAMENTPOINT)
		write_short(id | 0x1000) 
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_short( m_beamSpr ) 
		write_byte(1) // framestart
		write_byte(5) // framerate
		write_byte(1) // life
		write_byte(12) // width
		write_byte(0) // noise
		write_byte( 128 )     // r, g, b
		write_byte( 128 )       // r, g, b
		write_byte( 128 )       // r, g, b
		write_byte( 255 ) // brightness
		write_byte( 128 ) // speed
		message_end()
		
	}
	else if ((bullets[id] > clip) && (wpnid == CSW_DEAGLE) && g_deagle_gold[id] && !g_terminator[id]) 
	{
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_ELIGHT)
		write_short(id | 0x1000)
		write_coord(vec1[0])
		write_coord(vec1[1])
		write_coord(vec1[2])
		write_coord(15)
		write_byte(255)
		write_byte(200)
		write_byte(0)
		write_byte(1)
		write_coord(0)
		message_end()
		
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_BEAMENTPOINT)
		write_short(id | 0x1000) 
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_short( m_beamSpr ) 
		write_byte(1) // framestart
		write_byte(5) // framerate
		write_byte(1) // life
		write_byte(25) // width
		write_byte(0) // noise
		write_byte( 255 )     // r, g, b
		write_byte( 200 )       // r, g, b
		write_byte( 0 )       // r, g, b
		write_byte( 255 ) // brightness
		write_byte( 128 ) // speed
		message_end()
		
	}
	else if ((wpnid == CSW_DEAGLE) && g_deagle_gold[id] && g_terminator[id]) 
	{
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_ELIGHT)
		write_short(id | 0x1000)
		write_coord(vec1[0])
		write_coord(vec1[1])
		write_coord(vec1[2])
		write_coord(15)
		write_byte(255)
		write_byte(200)
		write_byte(0)
		write_byte(1)
		write_coord(0)
		message_end()
		
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_BEAMENTPOINT)
		write_short(id | 0x1000) 
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_short( m_beamSpr ) 
		write_byte(1) // framestart
		write_byte(5) // framerate
		write_byte(1) // life
		write_byte(25) // width
		write_byte(0) // noise
		write_byte( 255 )     // r, g, b
		write_byte( 200 )       // r, g, b
		write_byte( 0 )       // r, g, b
		write_byte( 255 ) // brightness
		write_byte( 128 ) // speed
		message_end()
		
	}
	else if ((bullets[id] > clip) && (wpnid == CSW_M4A1) && g_weapon_gold_m4[id]) 
	{
		
		
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_ELIGHT)
		write_short(id | 0x1000)
		write_coord(vec1[0])
		write_coord(vec1[1])
		write_coord(vec1[2])
		write_coord(15)
		write_byte(255)
		write_byte(255)
		write_byte(0)
		write_byte(1)
		write_coord(0)
		message_end()
		
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_BEAMENTPOINT)
		write_short(id | 0x1000) 
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_short( m_beamSpr ) 
		write_byte(1) // framestart
		write_byte(5) // framerate
		write_byte(1) // life
		write_byte(10) // width
		write_byte(0) // noise
		write_byte( 255 )     // r, g, b
		write_byte( 255 )       // r, g, b
		write_byte( 0 )       // r, g, b
		write_byte( 255 ) // brightness
		write_byte( 128 ) // speed
		message_end()
		
	} 
	else if ((bullets[id] > clip) && (wpnid == CSW_FAMAS) && g_weapon_laser_famas[id]) 
	{
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_ELIGHT)
		write_short(id | 0x1000)
		write_coord(vec1[0])
		write_coord(vec1[1])
		write_coord(vec1[2])
		write_coord(15)
		write_byte(0)
		write_byte(200)
		write_byte(255)
		write_byte(1)
		write_coord(0)
		message_end()
		
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_BEAMENTPOINT)
		write_short(id | 0x1000) 
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_short( m_beamSpr ) 
		write_byte(1) // framestart
		write_byte(5) // framerate
		write_byte(1) // life
		write_byte(50) // width
		write_byte(0) // noise
		write_byte( 0 )     // r, g, b
		write_byte( 200 )       // r, g, b
		write_byte( 255 )       // r, g, b
		write_byte( 255 ) // brightness
		write_byte( 128 ) // speed
		message_end()
		
	} 
	else if ((bullets[id] > clip) && (wpnid == CSW_AK47) && g_weapon_akgold[id]) 
	{
		
		
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_ELIGHT)
		write_short(id | 0x1000)
		write_coord(vec1[0])
		write_coord(vec1[1])
		write_coord(vec1[2])
		write_coord(15)
		write_byte(255)
		write_byte(255)
		write_byte(0)
		write_byte(1)
		write_coord(0)
		message_end()
		
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_BEAMENTPOINT)
		write_short(id | 0x1000) 
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_short( m_beamSpr ) 
		write_byte(1) // framestart
		write_byte(5) // framerate
		write_byte(1) // life
		write_byte(12) // width
		write_byte(0) // noise
		write_byte( 255 )     // r, g, b
		write_byte( 255 )       // r, g, b
		write_byte( 0 )       // r, g, b
		write_byte( 255 ) // brightness
		write_byte( 128 ) // speed
		message_end()
		
	} 
	
	else if ((bullets[id] > clip) && (wpnid == CSW_MP5NAVY) && g_diamondmp5[id]) 
	{
		
		message_begin(MSG_ALL, SVC_TEMPENTITY, iEndOrigin)
		write_byte(TE_ARMOR_RICOCHET) // TE id
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_byte(10) // radius
		message_end()
		
		message_begin(MSG_ALL, SVC_TEMPENTITY, iEndOrigin)
		write_byte(TE_ARMOR_RICOCHET) // TE id
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_byte(10) // radius
		message_end()
		
		message_begin(MSG_ALL, SVC_TEMPENTITY, iEndOrigin)
		write_byte(TE_ARMOR_RICOCHET) // TE id
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_byte(10) // radius
		message_end()
		
		message_begin(MSG_ALL, SVC_TEMPENTITY, iEndOrigin)
		write_byte(TE_ARMOR_RICOCHET) // TE id
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_byte(10) // radius
		message_end()
		
		message_begin(MSG_ALL, SVC_TEMPENTITY, iEndOrigin)
		write_byte(TE_ARMOR_RICOCHET) // TE id
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_byte(10) // radius
		message_end()
		
		
		
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_ELIGHT)
		write_short(id | 0x1000)
		write_coord(vec1[0])
		write_coord(vec1[1])
		write_coord(vec1[2])
		write_coord(15)
		write_byte(255)
		write_byte(255)
		write_byte(255)
		write_byte(1)
		write_coord(0)
		message_end()
		
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_BEAMENTPOINT)
		write_short(id | 0x1000) 
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_short( m_beamSpr ) 
		write_byte(1) // framestart
		write_byte(5) // framerate
		write_byte(1) // life
		write_byte(12) // width
		write_byte(0) // noise
		write_byte( 255 )     // r, g, b
		write_byte( 255 )       // r, g, b
		write_byte( 255 )       // r, g, b
		write_byte( 255 ) // brightness
		write_byte( 128 ) // speed
		message_end()
		
	} 
	
	else if ((bullets[id] > clip) && (wpnid == CSW_P90) && g_electro_p90[id]) 
	{
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_SPARKS)                      
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		message_end()
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_SPARKS)                      
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		message_end()
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_SPARKS)                      
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		message_end()
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_ELIGHT)
		write_short(id | 0x1000)
		write_coord(vec1[0])
		write_coord(vec1[1])
		write_coord(vec1[2])
		write_coord(15)
		write_byte(0)
		write_byte(128)
		write_byte(255)
		write_byte(1)
		write_coord(0)
		message_end()
		
		message_begin(MSG_ALL, SVC_TEMPENTITY, iEndOrigin)
		write_byte(TE_DLIGHT) // TE id
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_byte(12) // radius
		write_byte(0) // r
		write_byte(128) // g
		write_byte(255) // b
		write_byte(10) // life
		write_byte(100) // decay rate
		message_end()
		
		switch(random_num(0,3))
		{
			case 0:
			{
				emit_sound( id, CHAN_VOICE, g_sound_chispa1, 1.0, ATTN_NORM, 0, PITCH_NORM )
			}
			case 1:
			{
				emit_sound( id, CHAN_VOICE, g_sound_chispa2, 1.0, ATTN_NORM, 0, PITCH_NORM )
			}  
			case 2:
			{
				emit_sound( id, CHAN_VOICE, g_sound_chispa3, 1.0, ATTN_NORM, 0, PITCH_NORM )
			}
			case 3:
			{
				emit_sound( id, CHAN_VOICE, g_sound_chispa4, 1.0, ATTN_NORM, 0, PITCH_NORM )
			}
		}
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_BEAMENTPOINT)
		write_short(id | 0x1000) 
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_short( m_beamSpr ) 
		write_byte(1) // framestart
		write_byte(5) // framerate
		write_byte(1) // life
		write_byte(7) // width
		write_byte(10) // noise
		write_byte( 128 )     // r, g, b
		write_byte( 255 )       // r, g, b
		write_byte( 255 )       // r, g, b
		write_byte( 255 ) // brightness
		write_byte( 128 ) // speed
		message_end()
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_BEAMENTPOINT)
		write_short(id | 0x1000) 
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_short( m_beamSpr ) 
		write_byte(1) // framestart
		write_byte(5) // framerate
		write_byte(1) // life
		write_byte(14) // width
		write_byte(8) // noise
		write_byte( 0 )     // r, g, b
		write_byte( 128 )       // r, g, b
		write_byte( 255 )       // r, g, b
		write_byte( 255 ) // brightness
		write_byte( 128 ) // speed
		message_end()
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_BEAMENTPOINT)
		write_short(id | 0x1000) 
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_short( m_beamSpr ) 
		write_byte(1) // framestart
		write_byte(5) // framerate
		write_byte(1) // life
		write_byte(2) // width
		write_byte(14) // noise
		write_byte( 0 )     // r, g, b
		write_byte( 0 )       // r, g, b
		write_byte( 255 )       // r, g, b
		write_byte( 255 ) // brightness
		write_byte( 128 ) // speed
		message_end()
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_BEAMENTPOINT)
		write_short(id | 0x1000) 
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_short( m_beamSpr ) 
		write_byte(1) // framestart
		write_byte(5) // framerate
		write_byte(1) // life
		write_byte(2) // width
		write_byte(14) // noise
		write_byte( 0 )     // r, g, b
		write_byte( 0 )       // r, g, b
		write_byte( 255 )       // r, g, b
		write_byte( 255 ) // brightness
		write_byte( 128 ) // speed
		message_end()
		
		
		message_begin( MSG_BROADCAST,SVC_TEMPENTITY)
		write_byte(TE_BEAMENTPOINT)
		write_short(id | 0x1000) 
		write_coord(iEndOrigin[0])
		write_coord(iEndOrigin[1])
		write_coord(iEndOrigin[2])
		write_short( m_beamSpr ) 
		write_byte(1) // framestart
		write_byte(5) // framerate
		write_byte(1) // life
		write_byte(2) // width
		write_byte(14) // noise
		write_byte( 0 )     // r, g, b
		write_byte( 0 )       // r, g, b
		write_byte( 255 )       // r, g, b
		write_byte( 255 ) // brightness
		write_byte( 128 ) // speed
		message_end()
		
	}
	bullets[id] = clip
}
